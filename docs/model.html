---
layout: docs
title: "Programming Model - Developer Docs"
subheader: The Joined Node Programming Model
subtitle: Programming Model
subtitle2: Developer Docs
permalink: /docs/model/
---
<p>We've developed Joined Node to allow Recipes to be hyper-flexible, while also following a set programming model. With that in mind, there are three types of recipes you can run.</p>

<h3>Callback</h3>

<p>In the simplest model, you must provide JavaScript code that returns a function which accepts a single argument: <code>a callback</code>.</p>

<p>To show the recipe has completed, you must call the callback with two arguments: an error (or <code>null</code> if no error), and the result.</p>

<div class="window-toolbar">
	<i class="fa fa-circle red"></i>
	<i class="fa fa-circle orange"></i>
	<i class="fa fa-circle green"></i>
	<span>hello.js</span>
</div>	
<pre><code class="hljs javascript">
module.exports = function(callback) {
	callback(null, { i_am: 'done '});
}
</code></pre><br />

<p>When you invoke the <code>callback</code>, either the result value or an error message will be serialized as JSON and sent back to the caller as <content>application/json</content> content type.</p>

<hr />

<h3>Context and Callback</h3>

<p>A slightly more advanced version of the programming model allows you to create a recipe that accepts two arguments: a <code>context</code> and a <code>callback</code>.</p>

<div class="window-toolbar">
	<i class="fa fa-circle red"></i>
	<i class="fa fa-circle orange"></i>
	<i class="fa fa-circle green"></i>
	<span>hello.js</span>
</div>	
<pre><code class="hljs javascript">
module.exports = function(context, callback) {
	callback(null, { hello: context.data.name });
}
</code></pre><br />

<p>The <code>context</code> parameter is a JavaScript object with the following properties:</p>

<p>The <code>context.data</code> is a JavaScript object that combines parameters passed to the code via GET or POST.</p>

<p>The <code>context.env</code> is a JavaScript object that passes an object containing your <a href="/docs/env/">encrypted parameters</a>.</p>

<p>The <code>context.method</code> is a JavaScript variable that tells you what method was used: GET or POST.</p>

<p>The <code>context.body</code> is JavaScript representation of a parsed <code>application/json</code> or <code>application/x-www-form-urlencoded</code> request body. It is only present for requests with bodies such as a POST.</p>

<hr />

<h3>Total HTTP control</h3>

<p>The most flexible programming model allows you to take full control over the HTTP request and response.</p>

<div class="window-toolbar">
	<i class="fa fa-circle red"></i>
	<i class="fa fa-circle orange"></i>
	<i class="fa fa-circle green"></i>
	<span>hello.js</span>
</div>	
<pre><code class="hljs javascript">
module.exports = function (context, req, res) {
	res.writeHead(200, { 'Content-Type': 'text/html '});
	res.end('&lt;h1>Hello, world!&lt;/h1>');
}
</code></pre><br />

<p>The <code>context</code> argument behaves the same way as in the two simpler programming models. Note that this programming model does not have a concept of a callback. Ending the HTTP response indicates completion.</p>

<p>The order of the variables is also important.</p>

<p>Our programming model allows for flexibility in building your Joined Node recipes while also sticking to a set model, this helps keep apps streamlined.</p>